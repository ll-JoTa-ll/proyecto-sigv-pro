<ng-container>
    <app-header>
        <div class="row m-0 p-0">
            <div class="col-2 m-0 p-0">

            </div>
            <div class="col-8 m-0 p-0">
                <div class="row m-0 p-0">
                    <div class="back col-12 m-0 p-0 pb-1 pt-4">
                        Volver atras</div>
                </div>
                <p class="txtSolicitud m-0 p-0 pb-3">Gestionar Reserva</p>

            </div>
            <div class="col-2 m-0 p-0">

            </div>
        </div>
        <div class="row m-0 p-0">
            <div class="col-2 m-0 p-0">

            </div>
            <div class="col-8 m-0 p-0">

                <div class="row m-0 p-0">
                    <div class="col-8 m-0 p-0">
                        <div class="row m-0 p-0">
                            <div class="col-12 m-0 p-0 box-shadow pl-5 pr-3 text-center" style="border-radius: 15px 0px 0px 0px">
                                <label *ngIf="LPolicies.length > 0 && lsapprover.length > 0" class="txtReserva pb-3 pt-4 pr-5 pl-5">Está gestionando la solicitud de compra. Ud puede aprobar o rechazar la misma</label>
                            </div>
                        </div>
                        <div class="row m-0 p-0 box-shadow pl-5 pb-5 pt-5 pr-5" style="border-radius: 0px 0px 15px 0px">
                            <div class="col-6" style="text-align: right">

                                <span class="divColor">Codigo de Reserva</span>
                            </div>
                            <div class="divCodigo col-6 m-0 p-0 pr-5">
                                {{lspnrresults.pnr}}
                            </div>
                        </div>
                    </div>
                    <div class="col-4 m-0 p-0">
                        <div class="row m-0 p-0 pl-4">
                            <div *ngIf="LPolicies.length > 0 && lsapprover.length > 0" class="col-12 m-0 p-0 box-shadow pl-3 pt-3 pb-2" style="border-radius: 20px 0px 0px 0px">
                                <span class="m-0 p-0"><img src="assets/images/time.svg" style="width: 40px;"></span> <label class="txtGestion pl-2">Los aprobadores solo tienen hasta:</label>
                                <label class="txtSolicitud m-0 p-0 pl-5">Las {{horatimelimit}} del {{fechatimelimit}} para gestionar la Reserva</label>
                            </div>
                            <div *ngIf="LPolicies.length === 0 && lsapprover.length === 0" class="col-12 m-0 p-0 box-shadow pl-5 pt-2" style="border-radius: 0px 0px 20px 0px">
                                <span class="img"><img src="assets/images/information.svg"></span><label class="txtPregunta pl-4 pb-2">¿Cómo gestiono mi reserva?</label>
                            </div>
                        </div>
                    </div>
                </div>

            </div>
            <div class="col-2 m-0 p-0">

            </div>
        </div>

        <div class="row m-0 p-0 pt-5">
            <div class="col-2 m-0 p-0">
            </div>
            <div class="col-8 m-0 p-0">
                <div class="row m-0 p-0">
                    <div class="col-8 m-0 p-0">
                        <img src="assets/images/airplane_ida.svg"><label class="divVuelo pl-2">Mi vuelo</label>
                        <app-vuelo-section [tipo]="1" *ngFor="let section of Lsection" [section]="section">

                        </app-vuelo-section>
                    </div>
                    <div class="col-4 m-0 p-0">
                        <div class="row m-0 p-0">
                            <div class="col-12 m-0 p-0">
                            </div>
                        </div>
                        <div class="rowAdulto">
                            <div class="col-12 m-0 p-0">
                                <app-precio-final [tipo]="3" [Lpolicies]="LPolicies" [currency]="lsflightavailability.currency" [precioadulto]="lsflightavailability.fareAmountByPassenger" [preciototal]="lsflightavailability.totalFareAmount">

                                </app-precio-final>
                            </div>
                        </div>

                    </div>
                </div>

            </div>
            <div class="col-2 m-0 p-0">

            </div>
        </div>
        <div class="row m-0 p-0">
            <div class="col-2 m-0 p-0">

            </div>
            <div class="col-8 m-0 p-0">
                <div class="row m-0 p-0 pt-5">
                    <div class="col-8 m-0 p-0">
                        <app-ex-politicas-infrigidas [tipo]="2" [lsapprovers]="lsapprover" [Currency]="currency" [LPolicies]="LPolicies" *ngIf="LPolicies.length > 0">

                        </app-ex-politicas-infrigidas>
                    </div>
                    <div class="col-4 m-0 p-0">

                    </div>
                </div>
            </div>
            <div class="col-2 m-0 p-0">

            </div>
        </div>
        <div class="row m-0 p-0">
            <div class="col-2 m-0 p-0">

            </div>
            <div class="col-8 m-0 p-0">
                <div class="row m-0 p-0 pt-5">
                    <div class="col-8 m-0 p-0">
                        <app-pasajeros [lsusers]="lusers">

                        </app-pasajeros>
                    </div>
                    <div class="col-4 m-0 p-0">

                    </div>
                </div>
            </div>
            <div class="col-2 m-0 p-0">

            </div>
        </div>
        <div class="row m-0 p-0">
            <div class="col-2 m-0 p-0">

            </div>
            <ng-template #modalaprobacionconfirmacion let-c="close" let-d="dismiss">
                <div class="modal-header m-0 p-0" style="border: none;">
                    <button type="button" class="close pull-right" aria-label="Close" (click)="modalRef.hide()">
                          <span aria-hidden="true">&times;</span>
                        </button>
                </div>
                <div class="modal-body m-0 p-0">
                    <div class="row m-0 p-0 text-center pt-4 pb-4">
                        <div class="col-12 m-0 p-0 text-1">
                            Al aprobar el vuelo, este será emitido.
                        </div>
                        <div class="col-12 m-0 p-0 text-1">
                            ¿Desea emitir el vuelo?
                        </div>
                    </div>
                </div>
                <div class="row m-0 p-0 pb-5">
                    <div class="col-6 m-0 p-0 text-center">
                        <button (click)="modalRef.hide()" class="btn btn-emitir">Emitir</button>
                    </div>
                    <div class="col-6 m-0 p-0 text-center">
                        <button (click)="modalRef.hide()" class="btn btn-close">Cerrar</button>
                    </div>
                </div>
            </ng-template>
            <ng-template #modalrechazar let-c="close" let-d="dismiss">
                <div class="modal-header m-0 p-0" style="border: none;">
                    <button type="button" class="close pull-right" aria-label="Close" (click)="modalRef.hide()">
                          <span aria-hidden="true">&times;</span>
                        </button>
                </div>
                <div class="modal-body m-0 p-0">
                    <div class="row m-0 p-0 text-center pt-4 pb-4">
                        <div class="col-12 m-0 p-0 text-1">
                            Estás apunto de rechazar el vuelo
                        </div>
                        <div class="col-12 m-0 p-0 text-1">
                            La reserva será anulada
                        </div>
                    </div>
                </div>
                <div class="row m-0 p-0 pb-5">
                    <div class="col-6 m-0 p-0 text-center">
                        <button (click)="modalRef.hide()" class="btn btn-emitir">Rechazar</button>
                    </div>
                    <div class="col-6 m-0 p-0 text-center">
                        <button (click)="modalRef.hide()" class="btn btn-close">Cerrar</button>
                    </div>
                </div>
            </ng-template>
            <div class="col-8 m-0 p-0">
                <div class="row m-0 p-0 pt-5 pb-5 text-center" style="width: 90%;">
                    <div class="col-4 m-0 p-0">
                        <button class="btn btn-aceptar" (click)="openModal(modalaprobacionconfirmacion)">Aceptar</button>
                    </div>
                    <div class="col-4 m-0 p-0">
                        <button class="btn btn-cerrar" (click)="openModal(modalrechazar)">Rechazar</button>
                    </div>
                    <div class="col-4 m-0 p-0">
                        <button class="btn btn-salir">Salir</button>
                    </div>
                </div>
            </div>
            <div class="col-2 m-0 p-0">

            </div>
        </div>
    </app-header>
</ng-container>