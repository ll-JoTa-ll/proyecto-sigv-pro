<div *ngIf="lhabitaciones.guaranteeType !='Deposit' && lhabitaciones.guaranteeType != '' " class="col-12 m-0 p-0 pb-3">
    <div class="row m-0 p-0 pt-4 pb-2">
        <div class="col-8 m-0 p-0 pr-4">
            <div class="row m-0 p-0 box-shadow" style="border-radius: 10px 0px 10px 0px">
                <div class="col-6 m-0 p-0" style="background-color: #FBF6F6">
                    <div class="row m-0 p-0 pb-3">

                        <div class="col-12 m-0 p-0 text-center" style="background-color: #FFFFFF">
                            <span class="tituhabi">Habitación</span>
                        </div>
                        <div class="col-12 m-0 p-0 text-center pt-4 pb-4">
                            <span class="habidesc">{{lhabitaciones.name}}</span>
                        </div>

                        <!--   <div *ngIf="lhabitaciones.lamenities != null && lhabitaciones.lamenities.length > 0" class="col-12 m-0 p-0" style="
                            display: inline-grid;">
                            <carousel [itemsPerSlide]="itemsPerSlide" [singleSlideOffset]="false" [interval]="false" [indicatorsByChunk]="true">
                                <slide *ngFor="let item of lhabitaciones.lamenities; let index=index">
                                    <span class="imgben"><img *ngIf="item.code != null && item.code != '' " style="width: 20px;" src="./assets/images/{{item.code}}.png" alt="Cargando Imagen"></span>
                                    <span *ngIf="item.description != null && item.description != '' " class="Condition">{{item.description}}</span>
                                </slide>
                            </carousel>
                        </div>-->

                        <div *ngIf="lhabitaciones.lamenities != null && lhabitaciones.lamenities.length > 0" class="col-12 m-0 p-0" style="
                                display: inline-grid;height: 343px;overflow: auto;">
                            <span *ngFor="let item of lhabitaciones.lamenities" style="padding-bottom: 20px;"><span class="imgben"><img *ngIf="item.code != null && item.code != '' " style="width: 20px;" src="./assets/images/habitacion/{{item.code}}.png" alt="Cargando Imagen"></span>
                            <span *ngIf="item.description != null && item.description != '' " class="Condition">{{item.description}}</span>
                            </span>
                        </div>


                    </div>
                </div>
                <div class="col-6 m-0 p-0" style="border-left: 1px solid #707070;">
                    <div class="row m-0 p-0">
                        <div class="col-12 m-0 p-0 text-center">
                            <span class="tituhabi">Precio por noche sin impuestos</span>
                        </div>
                    </div>

                    <div class="row m-0 p-0">
                        <div class="col-12 m-0 p-0 pl-2 pr-2" style="background-color: #FBF6F6">
                            <div class="row m-0 p-0 pt-3 pb-3" style="width: 100%; display: flex; flex-wrap: nowrap; overflow-x: auto">
                                <app-precio-fecha *ngFor="let itemhabitacion of lhabitaciones.lpricePerDay" [lhabitaciones]="itemhabitacion">
                                </app-precio-fecha>
                            </div>
                        </div>
                    </div>




                    <div class="row m-0 p-0 ">
                        <div class="col-12 m-0 p-0 text-center pt-3">
                            <span class="Capacidad">Capacidad</span>
                        </div>
                    </div>
                    <div class="row m-0 p-0 pt-3 pb-3" style="background-color: #FBF6F6">
                        <div class="col-12 m-0 p-0 text-center">

                            <span class="pl-1"><img src="./assets/images/pasajero.svg "></span>
                            <span class="pl-3">{{lsthabitacion.ohotel.lguestPerRoom[0].numberPassengers}} x habitacion</span>
                        </div>
                    </div>

                    <div class="row m-0 p-0">
                        <div class="col-12 m-0 p-0 text-center pt-3">
                            <span class="Capacidad">Condiciones</span>
                        </div>
                    </div>
                    <div class="row m-0 p-0 pb-4" style="background-color: #FBF6F6">
                        <div class="col-12 m-0 p-0 text-center pt-3 pb-5">
                            <div *ngIf="breakFast != null" class="row m-0 p-0">

                                <div *ngIf="breakFast" class="col-12 m-0 p-0 pb-3">

                                    <span class="Description pl-2">✓ Incluye desayuno<img style="width: 30px;" class="pl-1" src="./assets/images/breakfast.png"></span>
                                </div>
                                <div *ngIf="!breakFast" class="col-12 m-0 p-0 pb-3">

                                    <span class="Description pl-2">✓ No incluye desayuno<img style="width: 30px;" class="pl-1" src="./assets/images/bread.png"></span>
                                </div>
                            </div>
                            <div *ngIf="lhabitaciones.lcancelPenalties.length > 0 && lhabitaciones.lcancelPenalties != '' " class="row m-0 p-0">

                                <div *ngIf="lhabitaciones.lcancelPenalties[0].nonRefundable" class="col-12 m-0 p-0 pb-3">

                                    <span class="Description pl-2">✓ Reembolsable<img style="width: 30px;" class="pl-1" src="./assets/images/money.png"></span>
                                </div>
                                <div *ngIf="!lhabitaciones.lcancelPenalties[0].nonRefundable" class="col-12 m-0 p-0 pb-3">

                                    <span class="Description pl-2">✓ No Reembolsable<img style="width: 30px;" class="pl-1" src="./assets/images/no-money.png"></span>
                                </div>
                            </div>
                            <div *ngIf="lhabitaciones.guaranteeType != '' && lhabitaciones.guaranteeType.length > 0" class="row m-0 p-0">

                                <div *ngIf="lhabitaciones.guaranteeType === 'GuaranteeRequired' " class="col-12 m-0 p-0 pb-3">

                                    <span class="Description pl-2">✓ Pago con garantía<img style="width: 30px;" class="pl-1" src="./assets/images/payment.png"></span>
                                </div>
                                <div *ngIf="lhabitaciones.guaranteeType === 'Deposit' " class="col-12 m-0 p-0 pb-3">

                                    <span class="Description pl-2">✓ Pago con depósito<img style="width: 30px;" class="pl-1" src="./assets/images/no-money.png"></span>
                                </div>
                            </div>
                            <!-- <span class="texcance">✓ Se puede cancelar hasta el {{lhabitaciones.oCancelPenalty.deadline}}</span> -->
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="col-4 m-0 p-0 box-shadow" style="border-radius: 20px 0px 20px 0px">
            <ng-container *ngIf="lhotel.numberNights == 1; else elseTemplate" class="row p-0 m-0">
                <div class="col-12 m-0 p-0 pt-3">
                    <span class="Price">Precio final por {{lhotel.numberNights}} noche para {{lhotel.numberPassenger}} {{this.personas}}</span>
                </div>
            </ng-container>
            <ng-template #elseTemplate class="row p-0 m-0">
                <div class="col-12 m-0 p-0 pt-3">
                    <span class="Price">Precio final por {{lhotel.numberNights}} noches para {{lhotel.numberPassenger}} {{this.personas}}</span>
                </div>
            </ng-template>


            <div class="row p-0 m-0 pt-5">
                <div class="col-10 p-0 m-0 ">
                    <span class="currency">{{lhabitaciones.oprice.currency}} </span>
                    <span class="Amount"> {{lhabitaciones.oprice.totalPrice}}</span>
                </div>
                <div *ngIf="lPolicies != null" class="col-2 m-0 p-0 text-center" style="right: 20px;">
                    <span tooltip="Habitación con infracción de políticas." (click)="openModalPoliticas(modalPolitica)" style="cursor: pointer" *ngIf="lPolicies.length>0" class="circulo-politica pl-1 r-span-1"></span>
                    <span tooltip="La habitación cumple las políticas de viaje de la empresa." *ngIf="lPolicies.length===0" class="circulo-politica1 pl-1 r-span-2"></span>
                </div>
            </div>
            <div class="row p-0 m-0">
                <div class="col-12 p-0 m-0 text-center">
                    <span class="txtPagoDestino">Pago en destino<span><img class="pl-3" style="width: 70px;" src="./assets/images/campana.png "></span></span>
                </div>
            </div>
            <div class="row m-0 p-0 ">
                <div class="col-12 m-0 p-0 text-center pt-4">
                    <span><button class="btn btn-danger col-lg-6" (click)="getReservaHabitacion(lhabitaciones.roomType,lhabitaciones.bookingCode,lhabitaciones.ratePlanCode)">Reservar ahora</button></span>
                </div>
            </div>
            <div class="row p-0 m-0 ">
                <div class="col-12 p-0 m-0 text-center pt-3">
                    <span class="InfoReserva">Información de tu habitación</span>
                </div>
            </div>
            <div class="row p-0 m-0 ">
                <div class="col-12 p-0 m-0 pt-3 text-center">
                    <span class="PoliticaCancelacion">✓ {{lhabitaciones.description}}.</span>
                </div>
            </div>
            <div class="row p-0 m-0 ">
                <div class="col-12 p-0 m-0 text-center">
                    <!--      <span class="PoliticaCancelacion">✓ Puedes cancelar gratis hasta el {{lhabitaciones.lCancelPenalty[0].oDeadline.absoluteDeadline}}</span>-->
                </div>
            </div>
        </div>
    </div>

    <ng-template #modalPolitica let-c="close" let-d="dismiss">

        <div class="modal-header pb-0" style="border: none;">
            <button type="button" class="close pull-right" aria-label="Close" (click)="modalRefPoliticas.hide()">
          <span aria-hidden="true">&times;</span>
        </button>
        </div>

        <div class="modal-body m-0 p-0">

            <div class="row m-0 p-0 pb-3">
                <div class="col-12 m-0 p-0 text-center ip-text-1" style="font-family: Omnes-med; font-size: 22px; color: #6B253C">
                    <u>Infracción de Políticas de Hotel</u>
                </div>
            </div>

            <div class="row m-0 p-0">

                <app-hoteles-politicas style="padding-right: 7px;" [politica]="politica" [politicaIndex]="i+1" [politicaslength]="lPolicies.length" *ngFor="let politica of lPolicies; let i=index"></app-hoteles-politicas>

            </div>

        </div>

    </ng-template>

</div>




<ngx-spinner bdColor="rgba(51, 51, 51, 0.8)" size="medium" color="#fff" type="ball-spin-fade-rotating" style="width: 100% !important; height: 100% !important;"></ngx-spinner>